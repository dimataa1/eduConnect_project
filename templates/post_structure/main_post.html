{% extends 'common/base.html' %}
{% load form_helpers %}

{% block title %}–°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤–∞—Ç–∞ —Å–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10 col-sm-12">
            <div class="card shadow-lg rounded-5">
                <div class="card-header bg-gradient-primary text-white text-center py-4 rounded-5">
                    <h4 class="mb-0">üéâ –°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤–∞—Ç–∞ —Å–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è</h4>
                    <p class="lead mb-0">–õ–µ—Å–Ω–æ –∏ –±—ä—Ä–∑–æ, –∑–∞–ø–æ—á–Ω–µ—Ç–µ —Å–µ–≥–∞!</p>
                </div>

                <div class="card-body px-5 py-4">
                    <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
                        {% csrf_token %}

                        <div class="mb-4">
                            <label for="title" class="form-label">–ó–∞–≥–ª–∞–≤–∏–µ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ç–∞ üåü</label>
                            {{ form.title|add_class:"form-control shadow-sm" }}
                            {% for error in form.title.errors %}
                                <div class="text-danger">{{ error }}</div>
                            {% endfor %}
                            <small class="form-text text-muted">–ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª–Ω–æ –∑–∞–≥–ª–∞–≤–∏–µ, –∫–æ–µ—Ç–æ –¥–∞ –ø—Ä–∏–≤–ª–∏—á–∞ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ.</small>
                        </div>

                        <div class="mb-4">
                            <label for="image" class="form-label">–ö–∞—á–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ üì∏</label>
                            {{ form.image|add_class:"form-control shadow-sm" }}
                            {% for error in form.image.errors %}
                                <div class="text-danger">{{ error }}</div>
                            {% endfor %}
                            <small class="form-text text-muted">–ò–∑–±–µ—Ä–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ–µ—Ç–æ –ø–∞—Å–≤–∞ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ç–∞ –≤–∏.</small>
                        </div>

                        <div class="mb-4">
                            <label for="description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ç–∞ ‚úèÔ∏è</label>
                            <!-- Custom Description Field for Smaller Size -->
                            {{ form.description|add_class:"form-control shadow-sm" }}
                            {% for error in form.description.errors %}
                                <div class="text-danger">{{ error }}</div>
                            {% endfor %}
                            <small class="form-text text-muted">–û–ø–∏—à–µ—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ç–∞ —Å–∏ –ø–æ –Ω–∞—á–∏–Ω, –∫–æ–π—Ç–æ –≤–¥—ä—Ö–Ω–æ–≤—è–≤–∞.</small>
                        </div>

                        <div class="mb-4">
                            <label for="grade" class="form-label">–ö–ª–∞—Å üéì</label>
                            {{ form.grade|add_class:"form-control shadow-sm" }}
                            {% for error in form.grade.errors %}
                                <div class="text-danger">{{ error }}</div>
                            {% endfor %}
                            <small class="form-text text-muted">–ü—Ä–∏–º–µ—Ä: '10-—Ç–∏ –∫–ª–∞—Å'.</small>
                        </div>

                        <div class="mb-4">
                            <label for="subject" class="form-label">–ü—Ä–µ–¥–º–µ—Ç üìö</label>
                            {{ form.subject|add_class:"form-control shadow-sm" }}
                            {% for error in form.subject.errors %}
                                <div class="text-danger">{{ error }}</div>
                            {% endfor %}
                            <small class="form-text text-muted">–ü—Ä–∏–º–µ—Ä: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'.</small>
                        </div>

                        <div class="d-flex justify-content-between gap-2">
                            <button type="submit" class="btn btn-success btn-lg w-48">–ó–∞–ø–∞–∑–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ç–∞ üìù</button>
                            <a href="{% url 'home' %}" class="btn btn-outline-danger btn-lg w-48">–û—Ç–∫–∞–∂–∏ ‚ùå</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
<style>
    body {
        background-color: #f8f9fa;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .card {
        border: none;
        border-radius: 30px;
    }

    .card-header {
        background: linear-gradient(90deg, rgba(60,141,188,1) 0%, rgba(26,134,207,1) 100%);
        border-radius: 30px 30px 0 0;
    }

    .card-header h4 {
        font-size: 1.5rem;  /* Reduced size */
        font-weight: 600;
    }

    .card-body {
        background-color: #fff;
        padding: 30px 50px; /* Adjusted padding for a more compact look */
        border-radius: 0 0 30px 30px;
    }

    .form-control {
        font-size: 1.2rem;
        padding: 12px;  /* Adjusted padding for form controls */
        border-radius: 10px;
        border: 1px solid #ddd;
        transition: border 0.3s ease, box-shadow 0.3s ease;
    }

    /* Specifically target the description field to reduce its size */
    textarea.form-control {
        height: 80px;  /* Reduced height */
        padding: 8px 10px;  /* Adjusted padding to make it more compact */
        font-size: 0.95rem;  /* Smaller font size for a neater look */
    }

    .form-control:focus {
        border-color: #007bff;
        box-shadow: 0 0 12px rgba(0, 123, 255, 0.5);
    }

    .form-text {
        font-size: 0.95rem;
        color: #6c757d;
    }

    .text-muted {
        color: #6c757d;
    }

    .btn {
        border-radius: 30px;
        font-weight: 600;
        padding: 12px 20px; /* Adjusted padding for buttons */
        font-size: 1.2rem;
        transition: all 0.3s ease;
    }

    .btn:hover {
        transform: translateY(-2px);
    }

    .btn-outline-danger {
        color: #dc3545;
        border-color: #dc3545;
    }

    .btn-outline-danger:hover {
        background-color: #dc3545;
        color: #fff;
    }

    .btn-success {
        background-color: #28a745;
        border-color: #28a745;
    }

    .btn-success:hover {
        background-color: #218838;
        border-color: #1e7e34;
    }

    .container {
        max-width: 1000px; /* Wider container */
    }

    .mb-4 {
        margin-bottom: 1.25rem; /* Reduced margin between form fields */
    }

    @media (max-width: 576px) {
        .container {
            max-width: 90%;
        }
    }
</style>
{% endblock %}
